\documentclass[12pt]{article}         % класс документа - статья. Также report, book и др.
%\usepackage[14pt]{extsizes}
\usepackage{amstext,amsmath,amssymb}            % пакеты для формул
\usepackage{mathtext}           % позволяет использовать русские буквы в формулах
\usepackage{geometry}           % пакет для задания полей страницы командой \geometry
%\geometry{left=3cm,right=1.5cm,top=2cm,bottom=2cm}
\usepackage[cp1251]{inputenc}  % кодировка текста
\usepackage[T2A]{fontenc}       %пакет Т2А необходим для правильного отображения кириллицы и переноса слов
%\inputencoding{cp1251}          % тоже кодировка...
\usepackage[english,russian]{babel}     % языковой пакет - последний язык главный
%\usepackage{times}

%\usepackage{euscript} %для "гладких" шрифтов
\usepackage{hyperref}  %создаёт гиперссылки на список литературы в pdf-файле
\usepackage{bm}                 % boldmath - пакет для жирного шрифта
\ifx\pdfoutput\undefined
\usepackage[dvips]{graphicx}
\else
\usepackage[pdftex]{graphicx}
\usepackage{epstopdf}
\fi   % пакет для включения рисунков в форматах png,pdf,jpg,mps,tif
\graphicspath{{fig/}}           % папка с рисунками

\usepackage{amsfonts}           % греческие символы и, возможно, что-то ещё
\usepackage{indentfirst}        % одинаковый отступ для первого параграфа и всего остального
\usepackage{cite}               % команда /cite{1,2,7,9} даёт ссылки
\usepackage{multicol}
\usepackage{array}              % нужен для создания таблиц
%\usepackage{pscyr}              % шрифты
\def\tmdefault{ftm}
\input glyphtounicode.tex       % для поиска и копирования
\pdfgentounicode=1

\linespread{1.3}                % полтора интервала. Если 1.6, то два интервала
\pagestyle{plain}               % номерует страницы
\usepackage[font=small,format=plain,labelfont=bf,up,textfont=it,up]{caption}
%\numberwithin{figure}{section}  % для сквозной нумерации
%\numberwithin{table}{section}
%\numberwithin{equation}{section}

\setlength{\parskip}{1ex} %--skip lines between paragraphs
\setlength{\parindent}{0pt} %--don't indent paragraphs

\textheight=24cm % высота текста
\textwidth=16cm % ширина текста
\oddsidemargin=0pt % отступ от левого края
\topmargin=-1.5cm % отступ от верхнего края
\parindent=12pt % абзацный отступ
%\parskip=2pt % интервал между абзацами
\tolerance=2000 % терпимость к "жидким" строкам
\flushbottom % выравнивание высоты страниц


\usepackage{listings}
\usepackage{color}
\definecolor{Purple}{rgb}{0.44,0.00,0.94}
\definecolor{MyDarkGreen}{rgb}{0.0,0.4,0.0}
\definecolor{Blue}{rgb}{0.00,0.00,1.00}
\lstloadlanguages{Matlab}%
\lstset{language=Matlab,                        % Use MATLAB
        frame=single,                           % Single frame around code
        basicstyle=\small\ttfamily,             % Use small true type font
        keywordstyle=[1]\color{Blue}\bf,        % MATLAB functions bold and blue
        keywordstyle=[2]\color{Purple},         % MATLAB function arguments purple
        keywordstyle=[3]\color{Blue}\underbar,  % User functions underlined and blue
        identifierstyle=,                       % Nothing special about identifiers
                                                % Comments small dark green courier
        commentstyle=\color{MyDarkGreen}\small,
        stringstyle=\color{Purple},             % Strings are purple
        showstringspaces=false,                 % Don't put marks in string spaces
        tabsize=5,                              % 5 spaces per tab
        breaklines=true,
        %%% Put standard MATLAB functions not included in the default
        %%% language here
        morekeywords={imread,double,size,reshape,image},
        %
        %%% Put MATLAB function parameters here
        morekeywords=[2]{on, off, interp},
        %
        %%% Put user defined functions here
        morekeywords=[3]{FindESS, homework_example},
        %
        morecomment=[l][\color{Blue}]{...},     % Line continuation (...) like blue comment
        numbers=left,                           % Line numbers on left
        firstnumber=1,                          % Line numbers start with line 1
        numberstyle=\tiny\color{Blue},          % Line numbers are blue
        stepnumber=5                            % Line numbers go in steps of 5
        }

\usepackage{url}

\usepackage{natbib}
\bibliographystyle{unsrtnat}

\newcommand{\bi}{\begin{itemize}}
\newcommand{\ei}{\end{itemize}}
\newcommand{\be}{\begin{enumerate}}
\newcommand{\ee}{\end{enumerate}}


\begin{document}
\begin{center}
\textbf{\large Курс ``Машинное обучение и майнинг данных''}
\end{center}
\begin{center}
{ \textbf{Раздел курса:\textit{ Поиск закономерностей в данных (Pattern Mining)}.}

\textbf{ Тема: \textit{Частые (под)последовтельности}.} 

\textbf{Домашнее задание №2}}
\end{center}
\hrule
Автор: Д.И.~Игнатов
\hfill Срок сдачи: 19 марта 2017
\hrule

Задание высылается в виде отчета в формате PDF или DOC по адресу dmitrii.ignatov@gmail.com с темой письма [MLDM2017-HW2-SEQ]-<Фамилия Имя> с копией ассистенту 	-- Баранецкой Дарье <dabaranetskaya@edu.hse.ru>.


\section*{Задание 1 (20 баллов). Поиск частых событий}

На основе  данных опроса \href{http://www.socpol.ru/gender/RIDMIZ.shtml}{РиДМиЖ} (\href{https://github.com/dimachine/SeqDem}{см. файл socAttrAndSeqFusion(full).txt  в репозитории Github}) определить:

\be
\item Какое событие чаще всего является первым у каждого поколения? (можно построить гистограмму)
\item Какое событие чаще всего является последним у каждого поколения? (можно построить гистограмму)
\item Аналогичные вопросы для признака ``пол'' и комбинаций признаков ``поколение'' и ``пол''.
\ee

Рекомендация: для подсчета частот можно пользоваться табличным процессором или средствами, доступными в Питоне.

\section*{Задание 2 (50 баллов). }

\be
\item Определите число частых и частых замкнутых последовательностей при минимальной поддерджке 1 для всего набора данных.

Примеры в \href{http://www.philippe-fournier-viger.com/spmf/}{SPMF}: \href{http://www.philippe-fournier-viger.com/spmf/index.php?link=documentation.php#examplePrefixSpan}{поиск частых последовательностей с PrefixSpan} и \href{http://www.philippe-fournier-viger.com/spmf/index.php?link=documentation.php#exampleBIDE}{поиск частых замкнутых последовательностей с BIDE+} (не забывайте про модификатор в конце имени алогоритма string, иначе нельзя будет работать с последовательностями из названий событий).

\item Какая последовательность событий наиболее частая в группе мужчин, а какая -- в группе женщин (длины 2, 3, 4 и 5)? 

\item Аналогичные пунктам 1 и 2 вопросы  для комбинаций признаков ``поколение'' и ``пол'' (без ограничения на длину).


Рекомендация: можно воспользоваться идеей добавления в начало каждой последовательностей комбинаций двух признаков в начало 

\begin{lstlisting}
generation=1 -1 gender=0 -1 separation -1 work -1 -2

\end{lstlisting}

из файла SocialAttributes.csv (оставить только столбцы gender и generation). 


Пример cм. скрипт reader.py.

\begin{lstlisting}
def exp1():
    ds= DataListToSequenceList2(dataList, names)
	fl=AttrAndSeqFusion(ds,'SocialAttributes.csv')
    SequenceToSPMF(fl, 'gener_gender_seq.txt')
\end{lstlisting}


Альтернативно можно использовать т.н. многомерные/многоуровневые последовательности (опция со строками не доступна):
\href{http://www.philippe-fournier-viger.com/spmf/index.php?link=documentation.php#exampleMDSPM1}{пример в SPMF}.

\item Постройте все последовательностные ассоциативные правила для женщин и для мужчин ($minsupp=1$, $minconf=0,5$) и приведите примеры трех самых достоверных для этих двух типов правил.

\ee
\section*{Задание 3 (30 баллов)}


Приведите пример постановки задачи и фрагмента или описания данных, в которой можно было бы использовать

\be
\item поиск частых множеств и ассоциативных правил,
\item поиск частых (под)последовательностей,
\item поиск частых (под)графов (данные для графов можно не приводить, достаточно описания задачи).
\ee
 


Дополнительная информация может быть найдена в статье \cite{Ignatov:2015} и учебниках \cite{zaki2014dataminingbook} (часть 2), \cite{Han:2006} (Главы 5, 8.3, 9.1).

%\bibliographystyle{plain} 
\bibliography{bib}


\end{document}
